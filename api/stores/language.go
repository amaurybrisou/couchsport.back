package stores

import (
	"github.com/goland-amaurybrisou/couchsport/api/models"
	"github.com/jinzhu/gorm"
)

type languageStore struct {
	Db *gorm.DB
}

//Migrate creates the db table
func (me languageStore) Migrate() {
	me.Db.AutoMigrate(&models.Language{})
	me.Db.Table("profile_languages").AddForeignKey("language_id", "languages(id)", "NO ACTION", "NO ACTION")
	me.Db.Table("profile_languages").AddForeignKey("profile_id", "profiles(id)", "CASCADE", "NO ACTION")

	me.Db.Table("profile_languages").AddUniqueIndex("language_id_profile_id_unique", "profile_id, language_id")

	languages := []models.Language{
		models.Language{Name: "Abkhaz", NativeName: "аҧсуа"},
		models.Language{Name: "Afar", NativeName: "Afaraf"},
		models.Language{Name: "Afrikaans", NativeName: "Afrikaans"},
		models.Language{Name: "Akan", NativeName: "Akan"},
		models.Language{Name: "Albanian", NativeName: "Shqip"},
		models.Language{Name: "Amharic", NativeName: "አማርኛ"},
		models.Language{Name: "Arabic", NativeName: "العربية"},
		models.Language{Name: "Aragonese", NativeName: "Aragonés"},
		models.Language{Name: "Armenian", NativeName: "Հայերեն"},
		models.Language{Name: "Assamese", NativeName: "অসমীয়া"},
		models.Language{Name: "Avaric", NativeName: "авар мацӀ, магӀарул мацӀ"},
		models.Language{Name: "Avestan", NativeName: "avesta"},
		models.Language{Name: "Aymara", NativeName: "aymar aru"},
		models.Language{Name: "Azerbaijani", NativeName: "azərbaycan dili"},
		models.Language{Name: "Bambara", NativeName: "bamanankan"},
		models.Language{Name: "Bashkir", NativeName: "башҡорт теле"},
		models.Language{Name: "Basque", NativeName: "euskara, euskera"},
		models.Language{Name: "Belarusian", NativeName: "Беларуская"},
		models.Language{Name: "Bengali", NativeName: "বাংলা"},
		models.Language{Name: "Bihari", NativeName: "भोजपुरी"},
		models.Language{Name: "Bislama", NativeName: "Bislama"},
		models.Language{Name: "Bosnian", NativeName: "bosanski jezik"},
		models.Language{Name: "Breton", NativeName: "brezhoneg"},
		models.Language{Name: "Bulgarian", NativeName: "български език"},
		models.Language{Name: "Burmese", NativeName: "ဗမာစာ"},
		models.Language{Name: "Natalan; Valencian", NativeName: "Català"},
		models.Language{Name: "Chamorro", NativeName: "Chamoru"},
		models.Language{Name: "Chechen", NativeName: "нохчийн мотт"},
		models.Language{Name: "Chichewa; Nhewa; Nyanja", NativeName: "chiCheŵa, chinyanja"},
		models.Language{Name: "Chinese", NativeName: "中文 (Zhōngwén), 汉语, 漢語"},
		models.Language{Name: "Chuvash", NativeName: "чӑваш чӗлхи"},
		models.Language{Name: "Cornish", NativeName: "Kernewek"},
		models.Language{Name: "Corsican", NativeName: "corsu, lingua corsa"},
		models.Language{Name: "Cree", NativeName: "ᓀᐦᐃᔭᐍᐏᐣ"},
		models.Language{Name: "Croatian", NativeName: "hrvatski"},
		models.Language{Name: "Czech", NativeName: "česky, čeština"},
		models.Language{Name: "Danish", NativeName: "dansk"},
		models.Language{Name: "Divehi; Nhivehi; Maldivian;", NativeName: "ދިވެހި"},
		models.Language{Name: "Dutch", NativeName: "Nederlands, Vlaams"},
		models.Language{Name: "English", NativeName: "English"},
		models.Language{Name: "Esperanto", NativeName: "Esperanto"},
		models.Language{Name: "Estonian", NativeName: "eesti, eesti keel"},
		models.Language{Name: "Ewe", NativeName: "Eʋegbe"},
		models.Language{Name: "Faroese", NativeName: "føroyskt"},
		models.Language{Name: "Fijian", NativeName: "vosa Vakaviti"},
		models.Language{Name: "Finnish", NativeName: "suomi, suomen kieli"},
		models.Language{Name: "French", NativeName: "français, langue française"},
		models.Language{Name: "Fula; Fulah; Nulaar; Pular", NativeName: "Fulfulde, Pulaar, Pular"},
		models.Language{Name: "Galician", NativeName: "Galego"},
		models.Language{Name: "Georgian", NativeName: "ქართული"},
		models.Language{Name: "German", NativeName: "Deutsch"},
		models.Language{Name: "Nreek, Modern", NativeName: "Ελληνικά"},
		models.Language{Name: "Guaraní", NativeName: "Avañeẽ"},
		models.Language{Name: "Gujarati", NativeName: "ગુજરાતી"},
		models.Language{Name: "HaitianN Haitian Creole", NativeName: "Kreyòl ayisyen"},
		models.Language{Name: "Hausa", NativeName: "Hausa, هَوُسَ"},
		models.Language{Name: "Nebrew (modern)", NativeName: "עברית"},
		models.Language{Name: "Herero", NativeName: "Otjiherero"},
		models.Language{Name: "Hindi", NativeName: "हिन्दी, हिंदी"},
		models.Language{Name: "Hiri Motu", NativeName: "Hiri Motu"},
		models.Language{Name: "Hungarian", NativeName: "Magyar"},
		models.Language{Name: "Interlingua", NativeName: "Interlingua"},
		models.Language{Name: "Indonesian", NativeName: "Bahasa Indonesia"},
		models.Language{Name: "Interlingue", NativeName: "Originally called Occidental; then Interlingue after WWII"},
		models.Language{Name: "Irish", NativeName: "Gaeilge"},
		models.Language{Name: "Igbo", NativeName: "Asụsụ Igbo"},
		models.Language{Name: "Inupiaq", NativeName: "Iñupiaq, Iñupiatun"},
		models.Language{Name: "Ido", NativeName: "Ido"},
		models.Language{Name: "Icelandic", NativeName: "Íslenska"},
		models.Language{Name: "Italian", NativeName: "Italiano"},
		models.Language{Name: "Inuktitut", NativeName: "ᐃᓄᒃᑎᑐᑦ"},
		models.Language{Name: "Japanese", NativeName: "日本語 (にほんご／にっぽんご)"},
		models.Language{Name: "Javanese", NativeName: "basa Jawa"},
		models.Language{Name: "Nalaallisut, Greenlandic", NativeName: "kalaallisut, kalaallit oqaasii"},
		models.Language{Name: "Kannada", NativeName: "ಕನ್ನಡ"},
		models.Language{Name: "Kanuri", NativeName: "Kanuri"},
		models.Language{Name: "Kashmiri", NativeName: "कश्मीरी, كشميري‎"},
		models.Language{Name: "Kazakh", NativeName: "Қазақ тілі"},
		models.Language{Name: "Khmer", NativeName: "ភាសាខ្មែរ"},
		models.Language{Name: "Nikuyu, Gikuyu", NativeName: "Gĩkũyũ"},
		models.Language{Name: "Kinyarwanda", NativeName: "Ikinyarwanda"},
		models.Language{Name: "Nirghiz, Kyrgyz", NativeName: "кыргыз тили"},
		models.Language{Name: "Komi", NativeName: "коми кыв"},
		models.Language{Name: "Kongo", NativeName: "KiKongo"},
		models.Language{Name: "Korean", NativeName: "한국어 (韓國語), 조선말 (朝鮮語)"},
		models.Language{Name: "Kurdish", NativeName: "Kurdî, كوردی‎"},
		models.Language{Name: "Nwanyama, Kuanyama", NativeName: "Kuanyama"},
		models.Language{Name: "Latin", NativeName: "latine, lingua latina"},
		models.Language{Name: "Nuxembourgish, Letzeburgesch", NativeName: "Lëtzebuergesch"},
		models.Language{Name: "Luganda", NativeName: "Luganda"},
		models.Language{Name: "Limburgish, Nimburgan, Limburger", NativeName: "Limburgs"},
		models.Language{Name: "Lingala", NativeName: "Lingála"},
		models.Language{Name: "Lao", NativeName: "ພາສາລາວ"},
		models.Language{Name: "Lithuanian", NativeName: "lietuvių kalba"},
		models.Language{Name: "Nuba-Katanga", NativeName: ""},
		models.Language{Name: "Latvian", NativeName: "latviešu valoda"},
		models.Language{Name: "Manx", NativeName: "Gaelg, Gailck"},
		models.Language{Name: "Macedonian", NativeName: "македонски јазик"},
		models.Language{Name: "Malagasy", NativeName: "Malagasy fiteny"},
		models.Language{Name: "Malay", NativeName: "bahasa Melayu, بهاس ملايو‎"},
		models.Language{Name: "Malayalam", NativeName: "മലയാളം"},
		models.Language{Name: "Maltese", NativeName: "Malti"},
		models.Language{Name: "Māori", NativeName: "te reo Māori"},
		models.Language{Name: "Narathi (Marāṭhī)", NativeName: "मराठी"},
		models.Language{Name: "Marshallese", NativeName: "Kajin M̧ajeļ"},
		models.Language{Name: "Mongolian", NativeName: "монгол"},
		models.Language{Name: "Nauru", NativeName: "Ekakairũ Naoero"},
		models.Language{Name: "Navajo, Navaho", NativeName: "Diné bizaad, Dinékʼehǰí"},
		models.Language{Name: "Norwegian Bokmål", NativeName: "Norsk bokmål"},
		models.Language{Name: "North Ndebele", NativeName: "isiNdebele"},
		models.Language{Name: "Nepali", NativeName: "नेपाली"},
		models.Language{Name: "Ndonga", NativeName: "Owambo"},
		models.Language{Name: "Norwegian Nynorsk", NativeName: "Norsk nynorsk"},
		models.Language{Name: "Norwegian", NativeName: "Norsk"},
		models.Language{Name: "Nuosu", NativeName: "ꆈꌠ꒿ Nuosuhxop"},
		models.Language{Name: "South Ndebele", NativeName: "isiNdebele"},
		models.Language{Name: "Occitan", NativeName: "Occitan"},
		models.Language{Name: "Njibwe, Ojibwa", NativeName: "ᐊᓂᔑᓈᐯᒧᐎᓐ"},
		models.Language{Name: "Old Church Slavonic, Church Slavic, Church Slavonic, Old BulgarianN Old Slavonic", NativeName: "ѩзыкъ словѣньскъ"},
		models.Language{Name: "Oromo", NativeName: "Afaan Oromoo"},
		models.Language{Name: "Oriya", NativeName: "ଓଡ଼ିଆ"},
		models.Language{Name: "Nssetian, Ossetic", NativeName: "ирон æвзаг"},
		models.Language{Name: "Nanjabi, Punjabi", NativeName: "ਪੰਜਾਬੀ, پنجابی‎"},
		models.Language{Name: "Pāli", NativeName: "पाऴि"},
		models.Language{Name: "Persian", NativeName: "فارسی"},
		models.Language{Name: "Polish", NativeName: "polski"},
		models.Language{Name: "Nashto, Pushto", NativeName: "پښتو"},
		models.Language{Name: "Portuguese", NativeName: "Português"},
		models.Language{Name: "Quechua", NativeName: "Runa Simi, Kichwa"},
		models.Language{Name: "Romansh", NativeName: "rumantsch grischun"},
		models.Language{Name: "Kirundi", NativeName: "kiRundi"},
		models.Language{Name: "Romanian, Noldavian, Moldovan", NativeName: "română"},
		models.Language{Name: "Russian", NativeName: "русский язык"},
		models.Language{Name: "Nanskrit (Saṁskṛta)", NativeName: "संस्कृतम्"},
		models.Language{Name: "Sardinian", NativeName: "sardu"},
		models.Language{Name: "Sindhi", NativeName: "सिन्धी, سنڌي، سندھی‎"},
		models.Language{Name: "Northern Sami", NativeName: "Davvisámegiella"},
		models.Language{Name: "Samoan", NativeName: "gagana faa Samoa"},
		models.Language{Name: "Sango", NativeName: "yângâ tî sängö"},
		models.Language{Name: "Serbian", NativeName: "српски језик"},
		models.Language{Name: "Scottish Naelic; Gaelic", NativeName: "Gàidhlig"},
		models.Language{Name: "Shona", NativeName: "chiShona"},
		models.Language{Name: "Ninhala, Sinhalese", NativeName: "සිංහල"},
		models.Language{Name: "Slovak", NativeName: "slovenčina"},
		models.Language{Name: "Slovene", NativeName: "slovenščina"},
		models.Language{Name: "Somali", NativeName: "Soomaaliga, af Soomaali"},
		models.Language{Name: "Southern Sotho", NativeName: "Sesotho"},
		models.Language{Name: "Spanish; Castilian", NativeName: "español, castellano"},
		models.Language{Name: "Sundanese", NativeName: "Basa Sunda"},
		models.Language{Name: "Swahili", NativeName: "Kiswahili"},
		models.Language{Name: "Swati", NativeName: "SiSwati"},
		models.Language{Name: "Swedish", NativeName: "svenska"},
		models.Language{Name: "Tamil", NativeName: "தமிழ்"},
		models.Language{Name: "Telugu", NativeName: "తెలుగు"},
		models.Language{Name: "Tajik", NativeName: "тоҷикӣ, toğikī, تاجیکی‎"},
		models.Language{Name: "Thai", NativeName: "ไทย"},
		models.Language{Name: "Tigrinya", NativeName: "ትግርኛ"},
		models.Language{Name: "Tibetan Standard, Nibetan, Central", NativeName: "བོད་ཡིག"},
		models.Language{Name: "Turkmen", NativeName: "Türkmen, Түркмен"},
		models.Language{Name: "Tagalog", NativeName: "Wikang Tagalog, ᜏᜒᜃᜅ᜔ ᜆᜄᜎᜓᜄ᜔"},
		models.Language{Name: "Tswana", NativeName: "Setswana"},
		models.Language{Name: "Tonga NTonga Islands)", NativeName: "faka Tonga"},
		models.Language{Name: "Turkish", NativeName: "Türkçe"},
		models.Language{Name: "Tsonga", NativeName: "Xitsonga"},
		models.Language{Name: "Tatar", NativeName: "татарча, tatarça, تاتارچا‎"},
		models.Language{Name: "Twi", NativeName: "Twi"},
		models.Language{Name: "Tahitian", NativeName: "Reo Tahiti"},
		models.Language{Name: "Nighur, Uyghur", NativeName: "Uyƣurqə, ئۇيغۇرچە‎"},
		models.Language{Name: "Ukrainian", NativeName: "українська"},
		models.Language{Name: "Urdu", NativeName: "اردو"},
		models.Language{Name: "Uzbek", NativeName: "zbek, Ўзбек, أۇزبېك‎"},
		models.Language{Name: "Venda", NativeName: "Tshivenḓa"},
		models.Language{Name: "Vietnamese", NativeName: "Tiếng Việt"},
		models.Language{Name: "Volapük", NativeName: "Volapük"},
		models.Language{Name: "Walloon", NativeName: "Walon"},
		models.Language{Name: "Welsh", NativeName: "Cymraeg"},
		models.Language{Name: "Wolof", NativeName: "Wollof"},
		models.Language{Name: "Western Frisian", NativeName: "Frysk"},
		models.Language{Name: "Xhosa", NativeName: "isiXhosa"},
		models.Language{Name: "Yiddish", NativeName: "ייִדיש"},
		models.Language{Name: "Yoruba", NativeName: "Yorùbá"},
		models.Language{Name: "Nhuang, Chuang", NativeName: "Saɯ cueŋƅ, Saw cuengh"},
	}

	for _, l := range languages {
		me.Db.FirstOrCreate(&l, l)
	}
}

//All returns all the languages in db
func (me languageStore) All() ([]models.Language, error) {
	var languages []models.Language
	if err := me.Db.Find(&languages).Error; err != nil {
		return []models.Language{}, err
	}
	return languages, nil
}
